{% load static %}

<form
    class='px-3'
    hx-get="{% url 'hx_library:search' %}"
    hx-trigger='submit'
    hx-target='#searchResults'
    hx-swap='outerHTML'
>   
    <div id='searchFormFields' class="collapse show multi-collapse mt-3">
        <div class='d-flex gap-1 pb-1 mb-5'>
            {% include "base/components/form/field.html" with field=form.query format='default' %}
            <button 
                type="submit" 
                class="btn btn-primary htmx-request-hide rounded-circle aspect-ratio-1" 
                title='Search'
            ><i class="bi bi-search"></i></button>
            <button class="btn btn-primary htmx-indicator rounded-circle aspect-ratio-1" title='Searching...' type="button" disabled>
                <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
            </button>
        </div>
    </div>
    {% include "library/search/filters.html" %}
</form>